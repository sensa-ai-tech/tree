import type { LearningPath } from '@/types/knowledge';

export const IM_PATHS: LearningPath[] = [
  {
    id: 'PATH-IM-ENDOCRINE',
    title: '內科內分泌學入門',
    description: '從內分泌系統生理到常見內分泌疾病的診斷與治療，涵蓋 Cushing\'s、甲低、甲亢、糖尿病等核心疾病。適合實習獸醫及住院獸醫。',
    specialty: 'IM',
    target_audience: '實習獸醫、住院獸醫',
    estimated_hours: 8,
    path_nodes: [
      { node_id: 'IM-L0-001', is_required: true, phase: '基礎概念', learning_note: '起點：了解內科學全貌' },
      { node_id: 'IM-L1-001', is_required: true, phase: '基礎概念', learning_note: '內分泌系統的基礎生理，HPA 軸與甲狀腺軸' },
      { node_id: 'IM-L2-002', is_required: true, phase: '病理機轉', learning_note: '內分泌失調的核心機轉' },
      { node_id: 'IM-L3-001', is_required: true, phase: '臨床疾病', learning_note: '核心疾病：犬 Cushing\'s 診斷與治療' },
      { node_id: 'IM-L3-002', is_required: true, phase: '臨床疾病', learning_note: '犬甲狀腺機能低下' },
      { node_id: 'IM-L3-003', is_required: true, phase: '臨床疾病', learning_note: '貓甲狀腺機能亢進' },
      { node_id: 'IM-L3-006', is_required: true, phase: '臨床疾病', learning_note: '犬貓糖尿病' },
      { node_id: 'IM-L4-001', is_required: true, phase: '診斷與治療', learning_note: '內分泌檢驗判讀（LDDS、ACTH 刺激、T4/TSH）' },
    ],
    milestones: [
      {
        id: 'MS-IM-ENDO-01',
        title: '內分泌基礎過關',
        description: '完成內分泌生理與病理機轉',
        required_nodes: ['IM-L0-001', 'IM-L1-001', 'IM-L2-002'],
        checkpoint_type: 'quiz',
        pass_criteria: '測驗正確率 >= 70%',
      },
      {
        id: 'MS-IM-ENDO-02',
        title: '臨床疾病掌握',
        description: '完成四大內分泌疾病節點',
        required_nodes: ['IM-L3-001', 'IM-L3-002', 'IM-L3-003', 'IM-L3-006'],
        checkpoint_type: 'quiz',
        pass_criteria: '測驗正確率 >= 80%',
      },
      {
        id: 'MS-IM-ENDO-03',
        title: '路徑完成',
        description: '完成所有必修節點並通過最終評估',
        required_nodes: ['IM-L4-001'],
        checkpoint_type: 'quiz',
        pass_criteria: '測驗正確率 >= 80%',
      },
    ],
    has_certificate: true,
    status: 'published',
  },
  {
    id: 'PATH-IM-RENAL',
    title: '腎臟疾病管理路徑',
    description: '從腎臟生理到 CKD 分期、診斷與長期管理的完整學習路徑。涵蓋尿液分析判讀、IRIS 分期系統與治療策略。適合實習獸醫及住院獸醫。',
    specialty: 'IM',
    target_audience: '實習獸醫、住院獸醫',
    estimated_hours: 8,
    path_nodes: [
      { node_id: 'IM-L0-001', is_required: true, phase: '基礎概念', learning_note: '起點：了解內科學全貌' },
      { node_id: 'IM-L1-002', is_required: true, phase: '基礎概念', learning_note: '腎臟生理與尿液形成機轉' },
      { node_id: 'IM-L2-001', is_required: true, phase: '病理機轉', learning_note: '腎損傷機轉：腎元喪失與纖維化' },
      { node_id: 'IM-L4-002', is_required: true, phase: '診斷方法', learning_note: '核心技能：尿液分析與腎功能評估' },
      { node_id: 'IM-L3-004', is_required: true, phase: '臨床疾病', learning_note: '核心疾病：CKD 與 IRIS 分期' },
      { node_id: 'IM-L4-003', is_required: false, phase: '診斷方法', learning_note: '選修：腹腔超音波評估腎臟結構' },
      { node_id: 'IM-L5-001', is_required: true, phase: '治療與管理', learning_note: '路徑終點：CKD 長期管理策略' },
      { node_id: 'IM-L3-003', is_required: false, phase: '進階關聯', learning_note: '選修：貓甲亢與 CKD 的交互關係' },
    ],
    milestones: [
      {
        id: 'MS-IM-RENAL-01',
        title: '腎臟基礎過關',
        description: '完成腎臟生理與病理機轉',
        required_nodes: ['IM-L0-001', 'IM-L1-002', 'IM-L2-001'],
        checkpoint_type: 'quiz',
        pass_criteria: '測驗正確率 >= 70%',
      },
      {
        id: 'MS-IM-RENAL-02',
        title: '診斷與分期掌握',
        description: '完成尿液分析與 CKD 分期',
        required_nodes: ['IM-L4-002', 'IM-L3-004'],
        checkpoint_type: 'quiz',
        pass_criteria: '測驗正確率 >= 80%',
      },
      {
        id: 'MS-IM-RENAL-03',
        title: '路徑完成',
        description: '完成 CKD 管理並通過病例挑戰',
        required_nodes: ['IM-L5-001'],
        checkpoint_type: 'case',
        pass_criteria: '病例挑戰得分 >= 70%',
      },
    ],
    has_certificate: true,
    status: 'published',
  },
  {
    id: 'PATH-IM-GI',
    title: '消化系統疾病完整診療路徑',
    description: '從消化生理到慢性腸病、胰臟炎、肝臟脂肪變性與 PLE 的完整消化系統疾病診療路徑。適合一般臨床獸醫與住院獸醫。',
    specialty: 'IM',
    target_audience: '一般臨床獸醫、住院獸醫',
    estimated_hours: 10,
    path_nodes: [
      { node_id: 'IM-L1-003', is_required: true, phase: '基礎概念', learning_note: '起點：消化系統生理' },
      { node_id: 'IM-L2-004', is_required: true, phase: '病理機轉', learning_note: '肝膽病理機轉' },
      { node_id: 'IM-L2-003', is_required: true, phase: '病理機轉', learning_note: '發炎與免疫調節——IBD 的核心機轉' },
      { node_id: 'IM-L3-007', is_required: true, phase: '核心疾病', learning_note: '慢性腸病 (IBD/CE)——本路徑核心' },
      { node_id: 'IM-L3-008', is_required: true, phase: '核心疾病', learning_note: '胰臟炎——急性與慢性' },
      { node_id: 'IM-L3-009', is_required: true, phase: '核心疾病', learning_note: '貓肝臟脂肪變性' },
      { node_id: 'IM-L3-012', is_required: false, phase: '進階疾病', learning_note: '選修：蛋白質流失性腸病 (PLE)' },
      { node_id: 'IM-L4-004', is_required: true, phase: '診斷技能', learning_note: '消化系統影像與內視鏡' },
      { node_id: 'IM-L4-003', is_required: false, phase: '診斷技能', learning_note: '選修：腹腔超音波評估消化道' },
      { node_id: 'IM-L5-004', is_required: true, phase: '治療管理', learning_note: '消化系統疾病治療——路徑終點' },
    ],
    milestones: [
      { id: 'MS-IM-GI-01', title: '消化基礎與病理', description: '完成消化生理、肝膽病理與免疫調節', required_nodes: ['IM-L1-003', 'IM-L2-004', 'IM-L2-003'], checkpoint_type: 'quiz', pass_criteria: '測驗正確率 >= 70%' },
      { id: 'MS-IM-GI-02', title: '消化疾病掌握', description: '完成慢性腸病、胰臟炎與貓肝臟脂肪變性', required_nodes: ['IM-L3-007', 'IM-L3-008', 'IM-L3-009'], checkpoint_type: 'quiz', pass_criteria: '測驗正確率 >= 80%' },
      { id: 'MS-IM-GI-03', title: '路徑完成', description: '完成消化系統治療並通過消化疾病病例挑戰', required_nodes: ['IM-L5-004'], checkpoint_type: 'case', pass_criteria: '病例挑戰得分 >= 70%' },
    ],
    has_certificate: true,
    status: 'published',
  },
  {
    id: 'PATH-CROSS-VOMITING',
    title: '嘔吐的跨科鑑別診斷路徑',
    description: '以嘔吐為主訴，整合內科、外科、急診、臨床病理的跨科鑑別診斷流程。涵蓋胰臟炎、腸道異物、DKA、Addison 等常見病因。',
    specialty: 'IM',
    target_audience: '一般臨床獸醫、實習獸醫',
    estimated_hours: 6,
    path_nodes: [
      { node_id: 'IM-L1-003', is_required: true, phase: '基礎概念', learning_note: '消化系統生理——嘔吐機轉的基礎' },
      { node_id: 'IM-L3-008', is_required: true, phase: '內科病因', learning_note: '胰臟炎——嘔吐最常見內科病因' },
      { node_id: 'IM-L3-011', is_required: false, phase: '內科病因', learning_note: '選修：Addison 危象也可以嘔吐表現' },
      { node_id: 'SURG-L3-003', is_required: true, phase: '外科病因', learning_note: '腸道異物——外科急診嘔吐' },
      { node_id: 'ECC-L3-002', is_required: true, phase: '急診病因', learning_note: 'DKA——嘔吐合併代謝急診' },
      { node_id: 'CPATH-L4-002', is_required: true, phase: '診斷工具', learning_note: '生化檢查——嘔吐鑑別的關鍵' },
    ],
    milestones: [
      { id: 'MS-CROSS-VOM-01', title: '嘔吐病因掌握', description: '完成內科、外科、急診嘔吐病因', required_nodes: ['IM-L3-008', 'SURG-L3-003', 'ECC-L3-002'], checkpoint_type: 'quiz', pass_criteria: '測驗正確率 >= 80%' },
      { id: 'MS-CROSS-VOM-02', title: '路徑完成', description: '通過嘔吐鑑別診斷病例挑戰', required_nodes: ['CPATH-L4-002'], checkpoint_type: 'case', pass_criteria: '病例挑戰得分 >= 70%' },
    ],
    has_certificate: false,
    status: 'published',
  },
  {
    id: 'PATH-CROSS-DYSPNEA',
    title: '呼吸困難的跨科鑑別診斷路徑',
    description: '以呼吸困難為主訴，整合心臟科、內科、急診的跨科鑑別。涵蓋心衰竭、胸水、肺炎、氣喘等常見病因。',
    specialty: 'IM',
    target_audience: '一般臨床獸醫、實習獸醫',
    estimated_hours: 6,
    path_nodes: [
      { node_id: 'IM-L1-004', is_required: true, phase: '基礎概念', learning_note: '呼吸系統生理——呼吸困難機轉基礎' },
      { node_id: 'CARDIO-L3-001', is_required: true, phase: '心臟病因', learning_note: 'MMVD 心衰竭——犬最常見的呼吸困難病因' },
      { node_id: 'CARDIO-L3-003', is_required: true, phase: '心臟病因', learning_note: 'HCM——貓呼吸困難的重要病因' },
      { node_id: 'CARDIO-L4-004', is_required: true, phase: '診斷工具', learning_note: '胸腔 X 光——呼吸困難鑑別的第一線工具' },
      { node_id: 'ECC-L4-002', is_required: true, phase: '急診評估', learning_note: 'TFAST——快速評估胸水/心包膜積液' },
      { node_id: 'ECC-L4-001', is_required: true, phase: '急診評估', learning_note: 'ABCDE 分診——呼吸急診的第一步' },
    ],
    milestones: [
      { id: 'MS-CROSS-DYS-01', title: '呼吸困難病因掌握', description: '完成心臟科、內科、急診呼吸困難病因', required_nodes: ['CARDIO-L3-001', 'CARDIO-L3-003', 'IM-L1-004'], checkpoint_type: 'quiz', pass_criteria: '測驗正確率 >= 80%' },
      { id: 'MS-CROSS-DYS-02', title: '路徑完成', description: '通過呼吸困難鑑別診斷病例挑戰', required_nodes: ['CARDIO-L4-004', 'ECC-L4-002'], checkpoint_type: 'case', pass_criteria: '病例挑戰得分 >= 70%' },
    ],
    has_certificate: false,
    status: 'published',
  },
  {
    id: 'PATH-CROSS-ANEMIA',
    title: '貧血的跨科鑑別診斷路徑',
    description: '以貧血為主訴，整合內科、急診、臨床病理、腫瘤科的跨科鑑別。涵蓋 IMHA、焦蟲感染、出血性貧血與輸血醫學。',
    specialty: 'IM',
    target_audience: '一般臨床獸醫、住院獸醫',
    estimated_hours: 8,
    path_nodes: [
      { node_id: 'CPATH-L1-001', is_required: true, phase: '基礎概念', learning_note: '血液學基礎——貧血分類的根基' },
      { node_id: 'CPATH-L4-001', is_required: true, phase: '診斷工具', learning_note: 'CBC 判讀——貧血診斷的第一步' },
      { node_id: 'IM-L3-005', is_required: true, phase: '內科病因', learning_note: 'IMHA——免疫介導性溶血性貧血' },
      { node_id: 'IM-L3-010', is_required: true, phase: '內科病因', learning_note: '焦蟲感染——台灣常見貧血病因' },
      { node_id: 'IM-L2-003', is_required: true, phase: '病理機轉', learning_note: '免疫調節——IMHA 的核心機轉' },
      { node_id: 'ECC-L5-003', is_required: true, phase: '急診治療', learning_note: '輸血醫學——嚴重貧血的急救手段' },
      { node_id: 'IM-L5-003', is_required: true, phase: '治療管理', learning_note: '免疫抑制治療——IMHA 的核心治療' },
    ],
    milestones: [
      { id: 'MS-CROSS-ANE-01', title: '貧血病因掌握', description: '完成 CBC 判讀、IMHA 與焦蟲感染', required_nodes: ['CPATH-L4-001', 'IM-L3-005', 'IM-L3-010'], checkpoint_type: 'quiz', pass_criteria: '測驗正確率 >= 80%' },
      { id: 'MS-CROSS-ANE-02', title: '路徑完成', description: '通過貧血鑑別診斷病例挑戰', required_nodes: ['ECC-L5-003', 'IM-L5-003'], checkpoint_type: 'case', pass_criteria: '病例挑戰得分 >= 70%' },
    ],
    has_certificate: false,
    status: 'published',
  },
  {
    id: 'PATH-CROSS-WEAKNESS',
    title: '虛弱/塌倒的跨科鑑別診斷路徑',
    description: '以虛弱或塌倒為主訴，整合心臟科、神經科、內科、急診的跨科鑑別。涵蓋暈厥、癲癇、低血糖、Addison 等常見病因。',
    specialty: 'IM',
    target_audience: '一般臨床獸醫、實習獸醫',
    estimated_hours: 6,
    path_nodes: [
      { node_id: 'CARDIO-L2-003', is_required: true, phase: '心臟病因', learning_note: '心律不整機轉——暈厥的重要病因' },
      { node_id: 'NEURO-L2-001', is_required: true, phase: '神經病因', learning_note: '癲癇機轉——與暈厥的鑑別' },
      { node_id: 'IM-L3-011', is_required: true, phase: '內科病因', learning_note: 'Addison——虛弱的重要內科病因' },
      { node_id: 'IM-L3-006', is_required: true, phase: '內科病因', learning_note: '糖尿病——低血糖可致虛弱/塌倒' },
      { node_id: 'NEURO-L4-001', is_required: true, phase: '診斷工具', learning_note: '神經學檢查——區分神經性與非神經性病因' },
      { node_id: 'CPATH-L4-002', is_required: true, phase: '診斷工具', learning_note: '生化檢查——電解質、血糖評估' },
    ],
    milestones: [
      { id: 'MS-CROSS-WK-01', title: '虛弱病因掌握', description: '完成心臟、神經、內科虛弱病因', required_nodes: ['CARDIO-L2-003', 'NEURO-L2-001', 'IM-L3-011', 'IM-L3-006'], checkpoint_type: 'quiz', pass_criteria: '測驗正確率 >= 80%' },
      { id: 'MS-CROSS-WK-02', title: '路徑完成', description: '通過虛弱/塌倒鑑別診斷病例挑戰', required_nodes: ['NEURO-L4-001', 'CPATH-L4-002'], checkpoint_type: 'case', pass_criteria: '病例挑戰得分 >= 70%' },
    ],
    has_certificate: false,
    status: 'published',
  },
  {
    id: 'PATH-CROSS-SKIN-MASS',
    title: '皮膚腫塊的跨科鑑別診斷路徑',
    description: '以皮膚腫塊為主訴，整合皮膚科、腫瘤科、臨床病理、外科的跨科評估與決策流程。涵蓋 MCT、乳腔腫瘤、FISS 等常見腫塊。',
    specialty: 'IM',
    target_audience: '一般臨床獸醫、住院獸醫',
    estimated_hours: 6,
    path_nodes: [
      { node_id: 'DERM-L4-003', is_required: true, phase: '基礎診斷', learning_note: '皮膚細胞學——腫塊評估的第一步' },
      { node_id: 'ONCO-L4-001', is_required: true, phase: '腫瘤診斷', learning_note: '腫瘤細胞學——FNA 與細胞學判讀' },
      { node_id: 'ONCO-L3-002', is_required: true, phase: '常見腫塊', learning_note: 'MCT——犬最常見皮膚腫瘤' },
      { node_id: 'ONCO-L3-006', is_required: true, phase: '常見腫塊', learning_note: '乳腔腫瘤——犬貓常見' },
      { node_id: 'ONCO-L3-008', is_required: false, phase: '常見腫塊', learning_note: '選修：FISS——貓注射處肉瘤' },
      { node_id: 'ONCO-L4-003', is_required: true, phase: '分期決策', learning_note: 'TNM 分期——決定治療策略' },
      { node_id: 'ONCO-L5-002', is_required: true, phase: '治療決策', learning_note: '腫瘤外科原則——切緣與手術計畫' },
    ],
    milestones: [
      { id: 'MS-CROSS-SM-01', title: '腫塊評估與鑑別', description: '完成細胞學、MCT 與乳腔腫瘤', required_nodes: ['DERM-L4-003', 'ONCO-L4-001', 'ONCO-L3-002', 'ONCO-L3-006'], checkpoint_type: 'quiz', pass_criteria: '測驗正確率 >= 80%' },
      { id: 'MS-CROSS-SM-02', title: '路徑完成', description: '通過皮膚腫塊評估病例挑戰', required_nodes: ['ONCO-L4-003', 'ONCO-L5-002'], checkpoint_type: 'case', pass_criteria: '病例挑戰得分 >= 70%' },
    ],
    has_certificate: false,
    status: 'published',
  },
];
